<html>

<head>
    <!-- <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> -->
    <title>WS test</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
</head>

<body class="p-4 container-fluid" onload="ws_init()">
    <font face="sans-serif">
        <script src="crc32.js"></script>
        <script src="ws_client.js"></script>
        <section>
            <div class="portlet">
                <div class="form-inline">
                    <div>
                        <label class="float-label-active" for="host">IP адрес</label>
                        <input class="form-control mb-2 mr-sm-2 ip_address" id="host" type="text" />
                    </div>
                    <div>
                        <label class="float-label-active" for="key">Key</label>
                        <input class="form-control mb-2 mr-sm-2" id="key" type="text" />
                    </div>
                    <div class="mb-2">
                        <button class="btn btn-primary mr-1" id="btnConnect" onclick="ws_connect()">
                            Connect
                        </button>
                        <button class="btn btn-danger" id="btnDisconnect" onclick="ws_disconnect()">
                            Disconnect
                        </button>
                        <button class="btn btn-primary mr-1" id="wsDownloadLog" onclick="wsDownloadLog()">
                            Download log
                        </button>
                        <button class="btn btn-primary mr-1" id="wsDownloadFullDump" onclick="wsDownloadFullDump()">
                            Download dump
                        </button>
                        <button class="btn btn-primary mr-1" id="wsOldDownloadFullDump"
                            onclick="wsOldDownloadFullDump()">
                            Download dump (old)
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md">
                        <div class="row form-row">
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label class="float-label-active" for="devId">Device ID</label>
                                    <input type="text" class="form-control" id="devId" readonly />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="float-label-active" for="devType">Type</label>
                                    <input type="text" class="form-control" id="devType" readonly />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="float-label-active" for="devVersion">Version</label>
                                    <input type="text" class="form-control" id="devVersion" readonly />
                                </div>
                            </div>
                        </div>
                        <div class="row form-row">
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label class="float-label-active" for="healthRssi">RSSI</label>
                                    <input type="text" class="form-control" id="healthRssi" readonly />
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="float-label-active" for="healthNetworkQuality">Network quality</label>
                                    <input type="text" class="form-control" id="healthNetworkQuality" readonly />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="float-label-active" for="healthMemory">Memory</label>
                                    <input type="text" class="form-control" id="healthMemory" readonly />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-inline">
                    <div class="mb-2">
                        <button class="btn btn-secondary mr-1" id="btnRelay0" onclick="wsSwitchRelayState(0)">
                            Реле 1
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelay1" onclick="wsSwitchRelayState(1)">
                            Реле 2
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelay2" onclick="wsSwitchRelayState(2)">
                            Реле 3
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelay3" onclick="wsSwitchRelayState(3)">
                            Реле 4
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnLight0" onclick="wsSwitchLampState(0)">
                            Лампа 1
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelayCycle0" onclick="wsRelayCycle(0)">
                            РЦикл 1
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelayCycle1" onclick="wsRelayCycle(1)">
                            РЦикл 2
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelayCycle2" onclick="wsRelayCycle(2)">
                            РЦикл 3
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnRelayCycle3" onclick="wsRelayCycle(3)">
                            РЦикл 4
                        </button>
                        <button class="btn btn-secondary mr-1" id="btnLightCycle0" onclick="wsLightCycle(0)">
                            ЛЦикл 1
                        </button>
                    </div>
                </div>
                <div class="form-inline">
                    <div class="mt-2">
                        <input type="checkbox" id="chbReconnect">Reconnect</input>
                        <input type="checkbox" id="chbRestoreCycle1" style="margin-left: 1em">Restore cycle 1</input>
                        <input type="checkbox" id="chbRestoreCycle2" style="margin-left: 1em">Restore cycle 2</input>
                    </div>
                </div>

            </div>
            <div class="portlet">
                <div class="row form-row form-group align-items-md-center">
                    <div class="col-md-6 mb-3">
                        <label class="float-label-active" for="cloudRegUrl">
                            RegURL
                        </label>
                        <input class="float-input form-control" id="cloudRegUrl" type="text" readonly="" />
                    </div>
                    <div class="col-md-6">
                        <label class="float-label-active" for="cloudWsUrl">
                            WsURL
                        </label>
                        <input class="float-input form-control" id="cloudWsUrl" type="text" readonly="" />
                    </div>
                </div>
                <div class="row form-row form-group align-items-md-center">
                    <div class="col-md-6 mb-3">
                        <label class="float-label-active" for="cloudOnline">
                            Online
                        </label>
                        <input class="float-input form-control" id="cloudOnline" type="text" readonly="" />
                    </div>
                </div>
                <div class=" row form-row form-group align-items-md-center">
                    <button class="btn btn-primary mr-1 ml-2 " id="btnRegUrlToDevel" onclick="wsRegUrlToDevel()">
                        To DEVEL
                    </button>
                    <button class="btn btn-primary mr-1" id="btnRegUrlToStaging" onclick="wsRegUrlToStaging()">
                        To STAGING
                    </button>
                    <button class="btn btn-primary mr-1" id="btnRegUrlToNewStage" onclick="wsRegUrlToNewStage()">
                        To New STAGING
                    </button>
                    <button class="btn btn-primary mr-1" id="btnRegUrlToProd" onclick="wsRegUrlToProd()">
                        To PROD
                    </button>
                </div>
                <hr/>
                <div class="row form-row form-group align-items-md-center">
                    <div class="col-md-4">
                        <label class="float-label-active" for="cloudServer">
                            Cloud Server
                        </label>
                        <input class="float-input form-control" id="cloudServer" />
                    </div>
                    <button class="btn btn-primary ml-1" id="btnSendCloudServer" onclick="ws_send_cloudServer()">
                        Set
                    </button>
                </div>

                <div class="row form-row form-group align-items-md-center">
                    <div class="col-md-4">
                        <label class="float-label-active" for="timeZone">
                            Time Zone
                        </label>
                        <input class="float-input form-control" id="timeZone" />

                    </div>
                    <button class="btn btn-primary ml-1" id="btnSendTimeZone" onclick="ws_send_timeZone()">
                        Set
                    </button>
                </div>
            </div>

            <details class="portlet">
                <summary>Обновление ПО</summary>
                <br>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <a>Обновление ПО</a>
                    </div>
                    <input id="inpSwFileName" type="file" accept=".bin" onchange="fileSwOnChange(this)">
                    <button class="btn btn-primary ml-3" id="btnUpdateDeviceSw" onclick="updateDeviceSw()" disabled>
                        Обновить
                    </button>
                    <progress id="prgUpdateDeviceSw" max="100" value="0" style="margin-left: 20px"></progress>
                    <div class="col-md-3"></div>
                    <div>
                        <a class="small text-muted">To upload, start chrome with the command:</a>
                        <a class="small text-muted" style="font-weight: bold;"> google-chrome --disable-web-security
                            --user-data-dir</a>
                    </div>
                </div>
                <hr />
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <a>Замена клиентского сертификата</a>
                    </div>
                    <input id="inpClSertFileName" type="file" accept=".bin" onchange="fileClSertOnChange(this)">
                    <button class="btn btn-warning ml-3" id="btnUpdateDeviceClSert" onclick="updateDeviceClSert()"
                        disabled>
                        Заменить
                    </button>
                    <progress id="prgUpdateDeviceClSert" max="100" value="0" style="margin-left: 20px" />
                </div>
                <hr />
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <a>Замена сертификата сервера</a>
                    </div>
                    <input id="inpCASertFileName" type="file" accept=".bin" onchange="fileCASertOnChange(this)">
                    <button class="btn btn-warning ml-3" id="btnUpdateDeviceCASert" onclick="updateDeviceCASert()"
                        disabled>
                        Заменить
                    </button>
                    <progress id="prgUpdateDeviceCASert" max="100" value="0" style="margin-left: 20px" />
                </div>
            </details>

            <details class="portlet">
                <summary>Старое</summary>
                <br>
                <div class="mb-2 ml-1">STPM:</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <label class="float-label-active" for="stpm_U">
                            U
                        </label>
                        <input class="float-input form-control" id="stpm_U" readonly />
                    </div>

                    <div class="col-md-3">
                        <label class="float-label-active" for="stpm_I">
                            I
                        </label>
                        <input class="float-input form-control" id="stpm_I" readonly />
                    </div>
                    <div class="col-md-3">
                        <label class="float-label-active" for="stpm_Pact">
                            Pact
                        </label>
                        <input class="float-input form-control" id="stpm_Pact" readonly />
                    </div>
                    <div class="col-md-3">
                        <label class="float-label-active" for="stpm_Papp">
                            Papp
                        </label>
                        <input class="float-input form-control" id="stpm_Papp" readonly />
                    </div>
                </div>
                <hr />
                <div>
                    <div class="mb-2 ml-1">STPM Calibration:
                    </div>

                    <div class="row form-row form-group align-items-md-center ">
                        <div class="col-md-2">
                            <label class="float-label-active" for="stpm_OffsetU">
                                offset U
                            </label>
                            <input class="float-input form-control" id="stpm_OffsetU" value="0.0" />
                        </div>
                        <div class="col-md-2">
                            <label class="float-label-active" for="stpm_FactorU">
                                factor U
                            </label>
                            <input class="float-input form-control" id="stpm_FactorU" value="1.0" />
                        </div>
                           
                            <button class="btn btn-primary ml-1" id="btnSendKU" onclick="ws_send_kU()">
                                Set
                            
                        </div>

                        
                    </div>

                    <div class="row form-row form-group align-items-md-center ">
                        <div class="col-md-2">
                            <label class="float-label-active" for="stpm_OffsetI">
                                offset I
                            </label>
                            <input class="float-input form-control" id="stpm_OffsetI" value="0.0" />
                        </div>
                        <div class="col-md-2">
                            <label class="float-label-active" for="stpm_FactorI">
                                factor I
                            </label>
                            <input class="float-input form-control" id="stpm_FactorI" value="1.0" />
                        </div>

                        <button class="btn btn-primary ml-1" id="btnSendKI" onclick="ws_send_kI()">Set</button>
                    </div>

                    <div class="row form-row form-group align-items-md-center ">
                        <div class="col-md-2">
                            <label class="float-label-active" for="stpm_OffsetP">
                                offset P
                            </label>
                            <input class="float-input form-control" id="stpm_OffsetP" value="0.0" />
                        </div>
                        <div class="col-md-2">
                            <label class="float-label-active" for="stpm_FactorP">
                                factor P
                            </label>
                            <input class="float-input form-control" id="stpm_FactorP" value="1.0" />
                        </div>

                        <button class="btn btn-primary ml-1" id="btnSendKP" onclick="ws_send_kP()">
                            Set
                        </button>
                    </div>

                </div>
                <hr />
                <div>
                    <div class="mb-2 ml-1">Relay Advanced:
                    </div>
                    <div class="mb-2 ml-1">mode<div>
                            <select id="relayAdvancedMode">
                                <option selected value="0">none</option>
                                <option value="1">WATER_GUARD</option>
                                <option value="2">ROLLER_SHUTTER</option>
                            </select>
                            <button class="btn btn-primary ml-1"
                                onclick="wsChangeRelayAdvancedMode()">Change</button>
                            <div class="row form-row form-group align-items-md-center">
                                <div class="col-md-2-mt-2">
                                    <label class="float-label-active" for="rollerShutterGetPosit">
                                        Get Posit
                                    </label>
                                    <input class="float-input form-control" id="rollerShutterGetPosit" type="number"
                                        value="0" readonly />
                                </div>
                                <div class="col-md-2">
                                    <label class="float-label-active" for="rollerShutterSetPosit">
                                        Set Posit
                                    </label>
                                    <input class="float-input form-control" id="rollerShutterSetPosit" type="number"
                                        value="0" />
                                </div>
                                <button class="btn btn-primary " onclick="wsRollerShutterSetPosit()">Set</button>
                            </div>
                        </div>
                        <hr />
                        <div>
                            <div class="mb-2 ml-1">LAMP RGB Bright:
                            </div>
                            <div class="row form-row form-group align-items-md-center">
                                <div class="col-md-4">
                                    <label class="float-label-active" for="lamp_Level">
                                        Brightness, %
                                    </label>
                                    <input class="float-input form-control" id="lamp_Level" />
                                </div>
                                <button class="btn btn-primary" id="btnSendlamp" onclick="ws_send_lamp()">Set</button>
                            </div>
                            <div class="row form-row form-group align-items-md-center">
                                <div class="col-md-4">
                                    <label class="float-label-active" for="rgb_LevelW">
                                        White, %
                                    </label>
                                    <input class="float-input form-control" id="rgb_LevelW" />
                                </div>
                                <button class="btn btn-primary" id="btnSendRGBW" onclick="ws_send_rgbW()">Set</button>
                            </div>
                            <hr />
                            <div class="mb-2 ml-1">LAMP RGB Color:
                            </div>
                            <div>
                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-4">
                                        <label class="float-label-active" for="rgb_LevelR">
                                            Red, %
                                        </label>
                                        <input class="float-input form-control" id="rgb_LevelR" />
                                    </div>
                                    <button class="btn btn-primary" id="btnSendRGBR" onclick="ws_send_rgbR()">Set</button>
                                </div>
                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-4">
                                        <label class="float-label-active" for="rgb_LevelG">
                                            Green, %
                                        </label>
                                        <input class="float-input form-control" id="rgb_LevelG" />
                                    </div>
                                    <button class="btn btn-primary" id="btnSendRGBG" onclick="ws_send_rgbG()">Set</button>
                                </div>
                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-4">
                                        <label class="float-label-active" for="rgb_LevelB">
                                            Blue, %
                                        </label>
                                        <input class="float-input form-control" id="rgb_LevelB" />
                                    </div>
                                    <button class="btn btn-primary" id="btnSendRGBB" onclick="ws_send_rgbB()">Set</button>
                                </div>
                            </div>
                            <hr />
                            <div>
                                <div class="mb-2 ml-1">RF:
                                </div>
                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfID">
                                            Seen ID
                                        </label>
                                        <input class="float-input form-control" id="rfID" type="text" readonly />
                                    </div>
                                    <button class="btn btn-primary" id="btn_rfDiscovery" onclick="ws_rfDiscovery()">Discovery</button>
                                </div>
                            </div>
                            <hr />
                            <div>
                                <div class="mb-2 ml-1">Add action:
                                </div>
                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionNum">
                                            #
                                        </label>
                                        <input class="float-input form-control" id="rfActionNum" type="number"
                                            value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionId">
                                            rf id
                                        </label>
                                        <input class="float-input form-control" id="rfActionId" type="number"
                                            value="0" />
                                    </div>

                                    <div class="col-md-5">
                                        <a style="margin-left: 10px">type</a>
                                        <select id="rfActionType">
                                            <option selected value="0">nothing</option>
                                            <option value="1">on</option>
                                            <option value="2">off</option>
                                            <option value="3">toggle</option>
                                            <option value="4">on then turn off</option>
                                            <option value="5">off then turn on</option>
                                            <option value="6">door mode</option>
                                            <option value="7">ventilation mode</option>
                                            <option value="8">rgb indicator</option>
                                            <option value="9">on when greater PARAM1</option>
                                            <option value="10">on when less PARAM1</option>
                                            <option value="11">on when in PARAM1 and PARAM2</option>
                                            <option value="12">off when greater PARAM1</option>
                                            <option value="13">off when less PARAM1</option>
                                            <option value="14">of when in PARAM1 and PARAM2</option>
                                            <option value="20">SUPPORT_32BIT_SENSORS</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionChannel">
                                            channel
                                        </label>
                                        <input class="float-input form-control" id="rfActionChannel" type="number"
                                            value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam1">
                                            param1
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam1" type="number"
                                            value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam2">
                                            param2
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam2" type="number"
                                            value="0" />
                                    </div>

                                    <button class="btn btn-primary" id="btnCreateAction" onclick="wsCreateRfAction()">
                                        Create
                                    </button>
                                </div>

                            </div>
                            <hr />
                            <div>
                                <div class="mb-2 ml-1">RGB indicator:
                                </div>

                                <div class="row form-row form-group align-items-md-center">
                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam2Red">
                                            red(0-15)
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam2Red" type="number" value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam2Green">
                                            green(0-15)
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam2Green" type="number" value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam2Blue">
                                            blue(0-15)
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam2Blue" type="number" value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam1Period">
                                            period(step 0.5s)
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam1Period" type="number" value="0" />
                                    </div>

                                    <div class="col-md-2">
                                        <label class="float-label-active" for="rfActionParam1Duty">
                                            duty(0-63)
                                        </label>
                                        <input class="float-input form-control" id="rfActionParam1Duty" type="number" value="0" />
                                    </div>
                                    <button class="btn btn-primary" id="btnCreateActionRgb"onclick="wsCreateRfActionRgb()">
                                        Copy to params
                                    </button>
                                </div>
                            </div>
                            <hr />
                            <button class="btn btn-primary" id="btnBreezerOn" onclick="ws_send_data('&quot;stick:type&quot;:&quot;breezer3c&quot;');">
                                Breezer ON
                            </button>
                            <button class="btn btn-danger" id="btnBreezerOf" onclick="ws_send_data('&quot;stick:type&quot;:&quot;none&quot;');">
                                Breezer OFF
                            </button>
                        </div>
            </details>
            <details class="portlet" open>
                <summary>Функционал 868</summary>
                <br>
                <div class="mb-2 ml-1">Настройки 868:</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-2">
                        <label class="float-label-active" for="channel868">
                            Канал
                        </label>
                        <input class="float-input form-control" id="channel868" />
                    </div>
                    <button class="btn btn-primary ml-2" id="btnchannel868" onclick="ws_send_channel868()">
                        Set
                    </button>
                </div>

                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-2">
                        <label class="float-label-active" for="key868_0">
                            Ключ 0
                        </label>
                        <input class="float-input form-control" id="key868_0" />
                    </div>
                    <div class="col-md-2">
                        <label class="float-label-active" for="key868_1">
                            Ключ 1
                        </label>
                        <input class="float-input form-control" id="key868_1" />
                    </div>
                    <div class="col-md-2">
                        <label class="float-label-active" for="key868_2">
                            Ключ 2
                        </label>
                        <input class="float-input form-control" id="key868_2" />
                    </div>
                    <div class="col-md-2">
                        <label class="float-label-active" for="key868_3">
                            Ключ 3
                        </label>
                        <input class="float-input form-control" id="key868_3" />
                    </div>
                    <button class="btn btn-primary ml-1" id="btnkey868" onclick="ws_send_key868()">
                        Set
                    </button>
                </div>
                <hr />
                <div class="mb-2 ml-1">Добавление 868:</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868SeenType">
                            Seen. Тип
                        </label>
                        <input class="float-input form-control" id="rfID868SeenType" type="text" readonly="" />
                    </div>
                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868">
                            ID
                        </label>
                        <input class="float-input form-control" id="rfID868" type="text" readonly />
                    </div>
                    <button class="btn btn-primary ml-1" id="btnAddRf868" onclick="ws_send_AddRf868()">Add</button>
                </div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868_addstatus">
                            Статус добавления
                        </label>
                        <input class="float-input form-control" id="rfID868_addstatus" type="text" readonly />
                    </div>
                    <div class="col-md-3">
                    <button class="btn btn-primary" id="btn_rfDiscovery868" onclick="ws_rfDiscovery868()">Discovery868</button>
                    </div>
                </div>
                <hr />
                <div class="mb-2 ml-1">Команды для 868</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-5">
                        <label class="float-label-active" for="rfID868СCommandId">
                            ID
                        </label>
                        <input class="float-input form-control" id="rfID868СCommandId" type="text" value="" />
                    </div>
                </div>

                <div class="mb-2 ml-1">ШК:</div>
                <div class="row form-row form-group align-items-md-center">
                    <button class="btn btn-danger mr-3 ml-2" id="btn_shk_open" onclick="ws_commandRf868(8, 1)">
                        Закрыть
                    </button>
                    <button class="btn btn-primary mr-3" id="btn_shk_lock" onclick="ws_commandRf868(8, 2)">
                        Открыть
                    </button>
                    <button class="btn btn-primary mr-3" id="btn_shk_clean" onclick="ws_commandRf868(8, 3)">
                        Прочистить
                    </button>
                    <button class="btn btn-primary mr-3" id="btn_shk_lock_flud" onclick="ws_commandRf868(8, 4)">
                        Закрыть и в протечку
                    </button>
                    <button class="btn btn-primary mr-3" id="btn_shk_flud_off" onclick="ws_commandRf868(8, 5)">
                        Сбросить протечку
                    </button>
                </div>
                <div class="mb-2 ml-1">Реле:</div>
                <div class="form-row form-group align-items-md-center">
                    <select id="rf868CommandrelayNum" class="ml-2">
                        <option selected value="0">Не выбрано</option>
                        <option value="0">Реле 1</option>
                        <option value="1">Реле 2</option>
                        <option value="2">Реле 3</option>
                        <option value="3">Реле 4</option>
                    </select>
                    <button class="btn btn-danger ml-2" id="btn_868relay_on" onclick="ws_commandRf868(12, 0)">
                        Выключить
                    </button>
                    <button class="btn btn-primary ml-2" id="btn_868relay_off" onclick="ws_commandRf868(12, 1)">
                        Включить
                    </button>
                </div>
                <hr />
                <div class="mb-2 ml-1">Отслеживание статуса 868</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-2">
                        <label class="float-label-active" for="rfID868_addslot">
                            Слот
                        </label>
                        <input class="float-input form-control" id="rfID868_addslot" type="number" value=0 />
                    </div>
                    <div class="col-md-5">
                        <label class="float-label-active" for="rfID868_addslot_id">
                            ID
                        </label>
                        <input class="float-input form-control" id="rfID868_addslot_id" type="text" />
                    </div>
                    <button class="btn btn-primary" id="btn_rf868_add_slot" onclick="ws_send_addRf868_slot()">
                        Добавить
                    </button>
                </div>
                <hr />
                <div class="mb-2 ml-1">Статус 868</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-2">
                        <label class="float-label-active" for="rfID868StatusNum">
                            Слот
                        </label>
                        <input class="float-input form-control" id="rfID868StatusNum" type="number" value=0 />
                    </div>

                    <div class="col-md-5">
                        <label class="float-label-active" for="rfID868StatusType">
                            Тип
                        </label>
                        <input class="float-input form-control" id="rfID868StatusType" type="text" readonly="" />
                    </div>

                    <div class="col-md-5">
                        <label class="float-label-active" for="rfID868StatusId">
                            ID
                        </label>
                        <input class="float-input form-control" id="rfID868StatusId" type="text" readonly="" />
                    </div>
                </div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-12">
                        <label class="float-label-active" for="rfID868Status">
                            Статус
                        </label>
                        <input class="float-input form-control" id="rfID868Status" type="text" readonly />
                    </div>
                </div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868StatusBat">
                            Заряд батареи
                        </label>
                        <input class="float-input form-control" id="rfID868StatusBat" type="text" readonly />
                    </div>

                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868StatusFwver">
                            Версия ПО
                        </label>
                        <input class="float-input form-control" id="rfID868StatusFwver" type="text" readonly />
                    </div>

                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868StatusRSSI">
                            RSSI
                        </label>
                        <input class="float-input form-control" id="rfID868StatusRSSI" type="text" readonly />
                    </div>

                    <div class="col-md-3">
                        <label class="float-label-active" for="rfID868StatusTamper">
                            Тампер
                        </label>
                        <input class="float-input form-control" id="rfID868StatusTamper" type="text" readonly />
                    </div>


                </div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-12">
                        <label class="float-label-active" for="rfID868StatusUknown">
                            Неизвестные состояния
                        </label>
                        <input class="float-input form-control" id="rfID868StatusUknown" type="text" readonly />
                    </div>
                </div>

                <hr />
                <div class="mb-2 ml-1">Сценарии</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-1">
                        <label class="float-label-active" for="rfAction868Num">
                            Слот
                        </label>
                        <input class="float-input form-control" id="rfAction868Num" type="number" value="0" />
                    </div>
                    <div class="col-md-2">
                        Тип:
                        <select id="rfAction868Type">
                            <option selected value="3">Не выбрано</option>
                            <option value="0">ШК - протечка</option>
                            <option value="1">Реле - выключатель</option>
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label class="float-label-active" for="rfAction868IdDo">
                            ID исполнителя
                        </label>
                        <input class="float-input form-control" id="rfAction868IdDo" type="text" value="" />
                    </div>
                    <div class="col-md-3">
                        <label class="float-label-active" for="rfAction868IdIf">
                            ID исполнителя
                        </label>
                        <input class="float-input form-control" id="rfAction868IdIf" type="text" value="" />
                    </div>

                    <div class="col-md-2">
                        Реле: <select id="rfAction868relayNum">
                            <option selected value="0">Не выбрано</option>
                            <option value="0">Реле 1</option>
                            <option value="1">Реле 2</option>
                            <option value="2">Реле 3</option>
                            <option value="3">Реле 4</option>
                        </select>
                    </div>
                </div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-2">
                        Выключатель: <select id="rfAction868switchNum">
                            <option selected value="0">Не выбрано</option>
                            <option value="0">Выкл 1</option>
                            <option value="1">Выкл 2</option>
                            <option value="2">Выкл 3</option>
                            <option value="3">Выкл 4</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" id="btnCreateAction868" onclick="wsCreateRfAction868()">
                        Добавить
                    </button>
                </div>
                <hr />
                <div class="mb-2 ml-1">Состояние сценариев</div>
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-2">
                        <label class="float-label-active" for="rfAction868StatusNum">
                            Слот
                            </label>
                        <input class="float-input form-control" id="rfAction868StatusNum" type="number" value=0 />
                    </div>
                    <div class="col-md-2">
                        <label class="float-label-active" for="rfAction868count">
                            Счетчик
                        </label>
                        <input class="float-input form-control" id="rfAction868count" type="text" readonly="" />
                    </div>
                    <div class="col-md-8">
                        <label class="float-label-active" for="rfAction868state">
                            Статус
                        </label>
                        <input class="float-input form-control" id="rfAction868state" type="text" readonly />
                    </div>
                </div>
            </details>


            <div class="portlet">
                <div class="form-row form-group align-items-md-center">
                    <div class="col-md-11">
                        <input class="float-input form-control" id="rawmsg" type="text" value="&quot;type&quot;:&quot;data&quot;,&quot;tmr:on[4]&quot:1" />
                    </div>
                    <div class="col-md-1">
                        <button class="btn btn-primary " onclick="ws_send_raw()">
                            Команда
                        </button>
                    </div>
                </div>
            </div>

        </section>
        <aside>
            <div class="portlet">
                <div class="form-check">
                    <div>
                        <input class="form-check-input pointer" type="checkbox" id="wsLog" />
                        <label class="form-check-label" for="wsLog">
                            Show WS Data
                        </label>
                    </div>
                    <div>
                        <input class="form-check-input pointer" type="checkbox" id="JsonLog" />
                        <label class="form-check-label" for="JsonLog">
                            JsonFormat
                        </label>
                    </div>
                    <div>
                        <input class="form-check-input pointer" type="checkbox" id="parse433" />
                        <label class="form-check-label" for="parse433">
                            Парсить статусы 433
                        </label>
                    </div>
                </div>
                <hr />
                <button class="btn btn-danger" id="wsLogbotton" onclick="ws_clear_log();">
                    Clear Log
                </button>
                <button class="btn btn-warning" id="wsResendAllbotton" onclick="ws_resendAll();">
                    ResendAll
                </button>
                <hr />
                <textarea class="form-control" id="log" style="width: 100%; height: 100%" readonly></textarea>
            </div>
        </aside>
        </div>
    </font>
</body>

</html>